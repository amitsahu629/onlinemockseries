<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mock Test Platform</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Mock Test Platform</h1>
            <p>Master your skills with comprehensive mock tests</p>
        </div>

        <!-- Login Screen -->
        <div class="screen active" id="loginScreen">
            <h2>Login to Your Account</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email:</label>
                    <input type="email" id="loginEmail" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password:</label>
                    <input type="password" id="loginPassword" required>
                </div>
                <button type="submit" class="btn">Login</button>
                <button type="button" class="btn btn-secondary" onclick="showScreen('registerScreen')">Register</button>
            </form>
            <div id="loginMessage"></div>
        </div>

        <!-- Register Screen -->
        <div class="screen" id="registerScreen">
            <h2>Create Your Account</h2>
            <form id="registerForm">
                <div class="form-group">
                    <label for="registerName">Full Name:</label>
                    <input type="text" id="registerName" required>
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email:</label>
                    <input type="email" id="registerEmail" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password:</label>
                    <input type="password" id="registerPassword" required minlength="6">
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password:</label>
                    <input type="password" id="confirmPassword" required>
                </div>
                <button type="submit" class="btn">Register</button>
                <button type="button" class="btn btn-secondary" onclick="showScreen('loginScreen')">Back to Login</button>
            </form>
            <div id="registerMessage"></div>
        </div>

        <!-- Dashboard Screen -->
        <div class="screen" id="dashboardScreen">
            <div class="user-info">
                <h2>Welcome, <span id="userName"></span>!</h2>
                <p>Total Tests Taken: <span id="totalTests">0</span> | Average Score: <span id="avgScore">0</span>%</p>
            </div>
            
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <h3>Available Mock Tests</h3>
                <button class="btn btn-secondary" onclick="logout()">Logout</button>
            </div>
            
            <div class="mock-test-grid" id="mockTestGrid">
                <!-- Mock tests will be generated here -->
            </div>
        </div>

        <!-- Instructions Screen -->
        <div class="screen" id="instructionsScreen">
            <h2>Test Instructions</h2>
            <div class="instructions">
                <h3>Important Instructions - Please Read Carefully</h3>
                <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      margin: 20px;
    }
    h2 {
      color: #333;
    }
    .symbol {
      display: flex;
      align-items: center;
      margin-bottom: 5px;
    }
    .box {
      width: 20px;
      height: 20px;
      margin-right: 10px;
      border: 1px solid #000;
    }
    .not-visited { background: white; }
    .not-answered { background: brown; }
    .answered { background: mediumseagreen; }
    .marked-review { background: purple; }
    .answered-review {
      background: purple;
      position: relative;
    }
    .answered-review::after {
      content: "âœ”";
      color: green;
      font-weight: bold;
      position: absolute;
      right: -10px;
      top: -10px;
    }
    .note {
      color: red;
    }
    ul {
      margin-left: 20px;
    }
  </style>
</head>
<body>

  <h2>General Instructions:</h2>
  <ol>
    <li>The clock will be set at the server. The countdown timer at the top right corner of screen will display the remaining time available for you to complete the examination. When the timer reaches zero, the examination will end by itself. You need not terminate the examination or submit your paper.</li>
    <li>The Question Palette displayed on the right side of screen will show the status of each question using one of the following symbols:</li>
  </ol>

  <div class="symbol"><div class="box not-visited"></div>You have not visited the question yet.</div>
  <div class="symbol"><div class="box not-answered"></div>You have not answered the question.</div>
  <div class="symbol"><div class="box answered"></div>You have answered the question.</div>
  <div class="symbol"><div class="box marked-review"></div>You have NOT answered the question, but have marked the question for review.</div>
  <div class="symbol"><div class="box answered-review"></div>You have answered the question, but marked it for review.</div>

  <p><strong>Mark For Review</strong> status for a question simply indicates that you would like to look at that question again. If a question is answered, but marked for review, then the answer will be considered for evaluation unless the status is modified by the candidate.</p>

  <h2>Navigating to a Question:</h2>
  <ol start="3">
    <li>To answer a question, do the following:
      <ol type="1">
        <li>Click on the question number in the Question Palette at the right of your screen to go to that numbered question directly. Note that using this option does NOT save your answer to the current question.</li>
        <li>Click on <strong>Save & Next</strong> to save your answer for the current question and then go to the next question.</li>
        <li>Click on <strong>Mark for Review & Next</strong> to save your answer for the current question and also mark it for review, and then go to the next question.</li>
      </ol>
    </li>
  </ol>

  <p>Note that your answer for the current question will not be saved if you navigate to another question directly by clicking on a question number without saving the answer to the previous question.</p>

  <p>You can view all the questions by clicking on the <strong>Question Paper</strong> button. <span class="note">This feature is provided, so that if you want you can just see the entire question paper at a glance.</span></p>

  <h2>Answering a Question:</h2>
  <ol start="4">
    <li>Procedure for answering a multiple choice (MCQ) type question:
      <ol type="1">
        <li>Choose one answer from the 4 options (A,B,C,D) given below the question, click on the bubble placed before the chosen option.</li>
        <li>To deselect your chosen answer, click on the bubble of the chosen option again or click on the <strong>Clear Response</strong> button.</li>
        <li>To change your chosen answer, click on the bubble of another option.</li>
        <li>To save your answer, you MUST click on the <strong>Save & Next</strong>.</li>
      </ol>
    </li>
    <li>Procedure for answering a numerical answer type question:
      <ol type="1">
        <li>To enter a number as your answer, use the virtual numerical keypad.</li>
        <li>A fraction (e.g. -0.3 or -.3) can be entered as an answer with or without "0" before the decimal point. <span class="note">As many as four decimal points, e.g. 12.5435 or 0.003 or -932.6711 or 12.82 can be entered.</span></li>
        <li>To clear your answer, click on the <strong>Clear Response</strong> button.</li>
        <li>To save your answer, you MUST click on the <strong>Save & Next</strong>.</li>
      </ol>
    </li>
    <li>To mark a question for review, click on the <strong>Mark for Review & Next</strong> button. If an answer is selected, that answer will be considered in the evaluation unless the status is modified by the candidate.</li>
    <li>To change your answer to a question that has already been answered, first select that question for answering and then follow the procedure for answering that type of question.</li>
    <li>Note that ONLY Questions for which answers are <strong>saved</strong> or <strong>marked for review after answering</strong> will be considered for evaluation.</li>
    <li>Sections in this question paper are displayed on the top bar of the screen. Questions in a Section can be viewed by clicking on the name of that Section. The Section you are currently viewing will be highlighted.</li>
    <li>After clicking the <strong>Save & Next</strong> button for the last question in a Section, you will automatically be taken to the first question of the next Section in sequence.</li>
    <li>You can move the mouse cursor over the name of a Section to view the answering status for that Section.</li>
  </ol>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-success" onclick="startTest()">Start Test</button>
                <button class="btn btn-secondary" onclick="showScreen('dashboardScreen')">Back to Dashboard</button>
            </div>
        </div>

        <!-- Test Screen -->
        <div class="screen" id="testScreen">
            <div class="question-header">
                <div class="question-number">Question <span id="currentQuestionNum">1</span> of 180</div>
                <div class="timer" id="timer">02:30:00</div>
            </div>
            
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            
            <div class="subject-tabs" id="subjectTabs">
                <button class="subject-tab active" data-subject="english">English (40)</button>
                <button class="subject-tab" data-subject="math">Math (40)</button>
                <button class="subject-tab" data-subject="general">General Awareness (40)</button>
                <button class="subject-tab" data-subject="odia">Odia (20)</button>
                <button class="subject-tab" data-subject="computer">Computer (40)</button>
            </div>
            
            <div class="question-container">
                <div class="question-text" id="questionText">Loading question...</div>
                <div class="options" id="questionOptions">
                    <!-- Options will be populated here -->
                </div>
            </div>
            
            <div class="test-navigation">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()">Previous</button>
                <div>
                    <button class="btn" id="nextBtn" onclick="nextQuestion()">Next</button>
                    <button class="btn btn-danger" onclick="confirmSubmit()" style="margin-left: 10px;">Submit Test</button>
                </div>
            </div>
        </div>

        <!-- Question Palette -->
        <div class="question-palette" id="questionPalette" style="display: none;">
            <h4 style="margin-bottom: 15px;">Questions</h4>
            <div class="palette-grid" id="paletteGrid">
                <!-- Question numbers will be populated here -->
            </div>
        </div>

        <!-- Results Screen -->
        <div class="screen" id="resultsScreen">
            <div class="scorecard">
                <h2>Test Results</h2>
                <div class="score-details">
                    <div class="score-item">
                        <h4>Total Score</h4>
                        <div class="value" id="totalScore">0</div>
                    </div>
                    <div class="score-item">
                        <h4>Correct Answers</h4>
                        <div class="value" id="correctAnswers">0</div>
                    </div>
                    <div class="score-item">
                        <h4>Wrong Answers</h4>
                        <div class="value" id="wrongAnswers">0</div>
                    </div>
                    <div class="score-item">
                        <h4>Unanswered</h4>
                        <div class="value" id="unanswered">0</div>
                    </div>
                    <div class="score-item">
                        <h4>Accuracy</h4>
                        <div class="value" id="accuracy">0%</div>
                    </div>
                    <div class="score-item">
                        <h4>Percentile</h4>
                        <div class="value" id="percentile">0</div>
                    </div>
                </div>
            </div>
            
            <div class="subject-breakdown">
                <h3>Subject-wise Performance</h3>
                <div class="subject-scores" id="subjectScores">
                    <!-- Subject scores will be populated here -->
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-success" onclick="downloadScorecard()">Download Scorecard</button>
                <button class="btn btn-secondary" onclick="showScreen('dashboardScreen')">Back to Dashboard</button>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div class="modal" id="confirmModal">
        <div class="modal-content">
            <h3>Confirm Test Submission</h3>
            <p>Are you sure you want to submit the test? This action cannot be undone.</p>
            <div style="margin-top: 20px;">
                <button class="btn btn-danger" onclick="submitTest()">Yes, Submit</button>
                <button class="btn btn-secondary" onclick="closeModal()">Cancel</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>